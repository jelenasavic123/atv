<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find M3U8 URLs</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f0f0f0;
        }
        h1 {
            color: #333;
        }
        p {
            color: #666;
        }
    </style>
    <script type="text/javascript">
        function findM3U8Urls() {
            var m3u8Urls = [];
            var scripts = document.getElementsByTagName('script');
            console.log('Number of script tags:', scripts.length);

            for (var i = 0; i < scripts.length; i++) {
                var content = scripts[i].innerHTML;
                console.log('Script content:', content);
                var matches = content.match(/https?:\/\/[^"'\s]+\.m3u8/g);
                if (matches) {
                    console.log('Found matches:', matches);
                    m3u8Urls.push.apply(m3u8Urls, matches);
                }
            }

            if (m3u8Urls.length > 0) {
                alert('Found M3U8 URLs: ' + m3u8Urls.join(', '));
            } else {
                alert('No M3U8 URLs found.');
            }
        }

        function observeForM3U8() {
            var targetNode = document.body;
            var config = { childList: true, subtree: true };

            var callback = function(mutationsList, observer) {
                for (var mutation of mutationsList) {
                    if (mutation.type === 'childList') {
                        console.log('DOM changed, rechecking for M3U8 URLs');
                        findM3U8Urls();
                    }
                }
            };

            var observer = new MutationObserver(callback);
            observer.observe(targetNode, config);
        }

        window.onload = function() {
            observeForM3U8();
            findM3U8Urls();
        };
    </script>
</head>
<body>
    <h1>Welcome to the M3U8 Finder Page!</h1>
    <p>This page is used to test M3U8 URL finding functionality.</p>
    <script type="text/javascript">
        // This script is a test
        console.log('Simulating a script with M3U8 URL');
        var exampleUrl = 'https://filemoon.in/e/jfss5fm21b66/Gunesine_Cerke_-_33_epizoda_HD';
    </script>

    <script type="text/javascript">
        // Another test script
        var anotherUrl = 'https://filemoon.in/e/jfss5fm21b66/Gunesine_Cerke_-_33_epizoda_HD';
    </script>
</body>
</html>
